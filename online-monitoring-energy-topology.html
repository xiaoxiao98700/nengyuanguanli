<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>能源拓扑图</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            margin: 0;
            padding: 20px;
            background-color: #0f1e2d;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans', Arial, sans-serif;
            color: #e0e6ed;
        }
        .iframe-page-wrapper {
            padding: 0;
        }
    </style>
</head>
<body>
<div class="iframe-page-wrapper">
<div class="sub-menu-content-container">
    <h2>能源拓扑图</h2>
    <p>通过可视化方式展示工厂能源场站、系统流向、电力一次系统及工艺用能情况。</p>

    <div class="tab-nav">
        <button class="tab-button active" onclick="openEnergyTopologyTab(event, 'energy-station-map-tab')">能源场站分布图</button>
        <button class="tab-button" onclick="openEnergyTopologyTab(event, 'energy-topology-map-tab')">能源拓扑图</button>
        <button class="tab-button" onclick="openEnergyTopologyTab(event, 'primary-power-system-map-tab')">电力一次系统图</button>
        <button class="tab-button" onclick="openEnergyTopologyTab(event, 'process-production-map-tab')">工艺生产图</button>
    </div>

    <!-- 能源场站分布图模块 -->
    <div id="energy-station-map-tab" class="tab-content active">
        <div class="card">
            <div class="card-title"><i class="fas fa-map-marked-alt"></i>能源场站分布图</div>
            <p>通过2D平面方式展示工厂内能源场站分布情况 (例如：配电室、空压站、锅炉房等)。</p>
            <div class="chart-container" style="height: 500px; position: relative; background: linear-gradient(135deg, #0a1929 0%, #1a2332 100%); border: 2px solid #00bcd4; overflow: hidden; box-shadow: inset 0 0 50px rgba(0, 188, 212, 0.1);">
                <!-- 3D网格背景 -->
                <div style="position: absolute; width: 100%; height: 100%; background-image: 
                    linear-gradient(to right, rgba(0, 188, 212, 0.15) 1px, transparent 1px),
                    linear-gradient(to bottom, rgba(0, 188, 212, 0.15) 1px, transparent 1px);
                    background-size: 60px 60px;
                    transform: perspective(600px) rotateX(60deg);
                    transform-origin: center bottom;
                    opacity: 0.4;"></div>
                
                <!-- 边框发光效果 -->
                <div style="position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(to right, transparent, #00bcd4, transparent); opacity: 0.8;"></div>
                <div style="position: absolute; bottom: 0; left: 0; right: 0; height: 2px; background: linear-gradient(to right, transparent, #00bcd4, transparent); opacity: 0.8;"></div>
                
                <!-- 配电室A (左上) -->
                <div style="position: absolute; left: 8%; top: 12%; width: 140px; padding: 18px; background: linear-gradient(135deg, rgba(0, 188, 212, 0.15), rgba(0, 188, 212, 0.05)); border: 2px solid #00bcd4; border-radius: 12px; box-shadow: 0 0 25px rgba(0, 188, 212, 0.6), inset 0 0 20px rgba(0, 188, 212, 0.1); text-align: center; backdrop-filter: blur(5px);">
                    <i class="fas fa-bolt" style="font-size: 2.2em; color: #00bcd4; margin-bottom: 10px; filter: drop-shadow(0 0 8px rgba(0, 188, 212, 0.8));"></i>
                    <div style="font-size: 0.95em; color: #e0e6ed; font-weight: bold; text-shadow: 0 0 10px rgba(0, 188, 212, 0.5);">配电室A</div>
                    <div style="font-size: 0.8em; color: #00bcd4; margin-top: 6px; font-weight: 600;">380V</div>
                </div>

                <!-- 空压站 (中上) -->
                <div style="position: absolute; left: 42%; top: 8%; width: 140px; padding: 18px; background: linear-gradient(135deg, rgba(46, 204, 113, 0.15), rgba(46, 204, 113, 0.05)); border: 2px solid #2ecc71; border-radius: 12px; box-shadow: 0 0 25px rgba(46, 204, 113, 0.6), inset 0 0 20px rgba(46, 204, 113, 0.1); text-align: center; backdrop-filter: blur(5px);">
                    <i class="fas fa-wind" style="font-size: 2.2em; color: #2ecc71; margin-bottom: 10px; filter: drop-shadow(0 0 8px rgba(46, 204, 113, 0.8));"></i>
                    <div style="font-size: 0.95em; color: #e0e6ed; font-weight: bold; text-shadow: 0 0 10px rgba(46, 204, 113, 0.5);">空压站</div>
                    <div style="font-size: 0.8em; color: #2ecc71; margin-top: 6px; font-weight: 600;">0.8MPa</div>
                </div>

                <!-- 锅炉房 (右上) -->
                <div style="position: absolute; right: 8%; top: 15%; width: 140px; padding: 18px; background: linear-gradient(135deg, rgba(231, 76, 60, 0.15), rgba(231, 76, 60, 0.05)); border: 2px solid #e74c3c; border-radius: 12px; box-shadow: 0 0 25px rgba(231, 76, 60, 0.6), inset 0 0 20px rgba(231, 76, 60, 0.1); text-align: center; backdrop-filter: blur(5px);">
                    <i class="fas fa-fire" style="font-size: 2.2em; color: #e74c3c; margin-bottom: 10px; filter: drop-shadow(0 0 8px rgba(231, 76, 60, 0.8));"></i>
                    <div style="font-size: 0.95em; color: #e0e6ed; font-weight: bold; text-shadow: 0 0 10px rgba(231, 76, 60, 0.5);">锅炉房</div>
                    <div style="font-size: 0.8em; color: #e74c3c; margin-top: 6px; font-weight: 600;">蒸汽</div>
                </div>

                <!-- 水泵房 (左下) -->
                <div style="position: absolute; left: 12%; bottom: 20%; width: 140px; padding: 18px; background: linear-gradient(135deg, rgba(52, 152, 219, 0.15), rgba(52, 152, 219, 0.05)); border: 2px solid #3498db; border-radius: 12px; box-shadow: 0 0 25px rgba(52, 152, 219, 0.6), inset 0 0 20px rgba(52, 152, 219, 0.1); text-align: center; backdrop-filter: blur(5px);">
                    <i class="fas fa-tint" style="font-size: 2.2em; color: #3498db; margin-bottom: 10px; filter: drop-shadow(0 0 8px rgba(52, 152, 219, 0.8));"></i>
                    <div style="font-size: 0.95em; color: #e0e6ed; font-weight: bold; text-shadow: 0 0 10px rgba(52, 152, 219, 0.5);">水泵房</div>
                    <div style="font-size: 0.8em; color: #3498db; margin-top: 6px; font-weight: 600;">循环水</div>
                </div>

                <!-- 配电室B (中下) -->
                <div style="position: absolute; left: 45%; bottom: 15%; width: 140px; padding: 18px; background: linear-gradient(135deg, rgba(0, 188, 212, 0.15), rgba(0, 188, 212, 0.05)); border: 2px solid #00bcd4; border-radius: 12px; box-shadow: 0 0 25px rgba(0, 188, 212, 0.6), inset 0 0 20px rgba(0, 188, 212, 0.1); text-align: center; backdrop-filter: blur(5px);">
                    <i class="fas fa-plug" style="font-size: 2.2em; color: #00bcd4; margin-bottom: 10px; filter: drop-shadow(0 0 8px rgba(0, 188, 212, 0.8));"></i>
                    <div style="font-size: 0.95em; color: #e0e6ed; font-weight: bold; text-shadow: 0 0 10px rgba(0, 188, 212, 0.5);">配电室B</div>
                    <div style="font-size: 0.8em; color: #00bcd4; margin-top: 6px; font-weight: 600;">10kV</div>
                </div>

                <!-- 制氮站 (右下) -->
                <div style="position: absolute; right: 10%; bottom: 18%; width: 140px; padding: 18px; background: linear-gradient(135deg, rgba(155, 89, 182, 0.15), rgba(155, 89, 182, 0.05)); border: 2px solid #9b59b6; border-radius: 12px; box-shadow: 0 0 25px rgba(155, 89, 182, 0.6), inset 0 0 20px rgba(155, 89, 182, 0.1); text-align: center; backdrop-filter: blur(5px);">
                    <i class="fas fa-flask" style="font-size: 2.2em; color: #9b59b6; margin-bottom: 10px; filter: drop-shadow(0 0 8px rgba(155, 89, 182, 0.8));"></i>
                    <div style="font-size: 0.95em; color: #e0e6ed; font-weight: bold; text-shadow: 0 0 10px rgba(155, 89, 182, 0.5);">制氮站</div>
                    <div style="font-size: 0.8em; color: #9b59b6; margin-top: 6px; font-weight: 600;">N₂</div>
                </div>

                <!-- 装饰性连接线 -->
                <svg style="position: absolute; left: 0; top: 0; width: 100%; height: 100%; pointer-events: none; opacity: 0.3;" xmlns="http://www.w3.org/2000/svg">
                    <line x1="20%" y1="20%" x2="50%" y2="15%" stroke="#00bcd4" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="50%" y1="15%" x2="78%" y2="25%" stroke="#2ecc71" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="20%" y1="70%" x2="52%" y2="75%" stroke="#3498db" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="52%" y1="75%" x2="78%" y2="72%" stroke="#9b59b6" stroke-width="1" stroke-dasharray="5,5"/>
                </svg>

                <!-- 图例 -->
                <div style="position: absolute; bottom: 15px; right: 15px; background: linear-gradient(135deg, rgba(42, 61, 84, 0.95), rgba(26, 35, 50, 0.95)); padding: 12px 18px; border-radius: 10px; border: 1px solid #00bcd4; box-shadow: 0 0 20px rgba(0, 188, 212, 0.3); backdrop-filter: blur(10px);">
                    <div style="font-size: 0.9em; color: #00bcd4; margin-bottom: 6px; font-weight: bold;">
                        <i class="fas fa-circle" style="margin-right: 6px; font-size: 0.6em; filter: drop-shadow(0 0 4px #00bcd4);"></i>配电设施
                    </div>
                    <div style="font-size: 0.9em; color: #2ecc71; margin-bottom: 6px; font-weight: bold;">
                        <i class="fas fa-circle" style="margin-right: 6px; font-size: 0.6em; filter: drop-shadow(0 0 4px #2ecc71);"></i>压缩空气
                    </div>
                    <div style="font-size: 0.9em; color: #e74c3c; margin-bottom: 6px; font-weight: bold;">
                        <i class="fas fa-circle" style="margin-right: 6px; font-size: 0.6em; filter: drop-shadow(0 0 4px #e74c3c);"></i>热力系统
                    </div>
                    <div style="font-size: 0.9em; color: #3498db; margin-bottom: 6px; font-weight: bold;">
                        <i class="fas fa-circle" style="margin-right: 6px; font-size: 0.6em; filter: drop-shadow(0 0 4px #3498db);"></i>水处理
                    </div>
                    <div style="font-size: 0.9em; color: #9b59b6; font-weight: bold;">
                        <i class="fas fa-circle" style="margin-right: 6px; font-size: 0.6em; filter: drop-shadow(0 0 4px #9b59b6);"></i>气体制备
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 能源拓扑图模块 -->
    <div id="energy-topology-map-tab" class="tab-content">
        <div class="card">
            <div class="card-title"><i class="fas fa-project-diagram"></i>能源拓扑图</div>
            <p>通过组态画面可视化展示各种能源系统图，如电力、水、焦炉煤气、蒸汽、压缩空气、氮气、精洗煤等能源流向系统图等。</p>
            <div class="chart-container" style="height: 600px; position: relative; background: linear-gradient(135deg, #1a2a3a 0%, #2a3d54 100%); border: 2px solid #3c5472; overflow: hidden;">
                <div style="position: absolute; top: 15px; left: 50%; transform: translateX(-50%); color: #00bcd4; font-size: 1.05em; font-weight: bold; text-shadow: 0 0 10px rgba(0, 188, 212, 0.5);">工厂能源流向桑基图 (Sankey Diagram)</div>
                
                <!-- 能源输入层标签 (左侧) -->
                <div style="position: absolute; left: 30px; top: 55px; font-size: 0.85em; color: #00bcd4; font-weight: bold; letter-spacing: 1px;">能源供应</div>
                
                <!-- 电力输入 -->
                <div style="position: absolute; left: 30px; top: 90px;">
                    <div style="background: linear-gradient(to right, #3498db, #2980b9); width: 130px; height: 80px; display: flex; align-items: center; justify-content: center; border-radius: 6px; box-shadow: 0 0 20px rgba(52, 152, 219, 0.6); border: 1px solid rgba(52, 152, 219, 0.4);">
                        <span style="color: white; font-size: 0.8em; font-weight: bold; text-align: center;"><i class="fas fa-bolt"></i> 电力<br/>2850 kW</span>
                    </div>
                </div>
                
                <!-- 能源流带 SVG -->
                <svg style="position: absolute; left: 0; top: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 600" preserveAspectRatio="none">
                    <!-- 电力主流到配电中心 -->
                    <path d="M 160 130 C 350 130, 350 200, 520 200" fill="none" stroke="#3498db" stroke-width="80" opacity="0.7"/>
                    <!-- 电力分流到生产车间A (top: 95px, height: 70px, center: 130px) -->
                    <path d="M 520 200 C 700 200, 700 130, 930 130" fill="none" stroke="#3498db" stroke-width="45" opacity="0.7"/>
                    <!-- 电力分流到生产车间B (top: 195px, height: 70px, center: 230px) -->
                    <path d="M 520 200 C 700 200, 700 230, 930 230" fill="none" stroke="#3498db" stroke-width="20" opacity="0.7"/>
                    <!-- 电力分流到辅助设施 (top: 270px, height: 30px, center: 285px) -->
                    <path d="M 520 200 C 700 200, 700 285, 930 285" fill="none" stroke="#3498db" stroke-width="15" opacity="0.7"/>
                    
                    <!-- 蒸汽输入 -->
                    <path d="M 160 260 C 350 260, 350 290, 520 290" fill="none" stroke="#e74c3c" stroke-width="60" opacity="0.7"/>
                    <!-- 蒸汽分流到车间C (top: 330px, height: 70px, center: 365px) -->
                    <path d="M 520 290 C 700 290, 700 365, 930 365" fill="none" stroke="#e74c3c" stroke-width="35" opacity="0.7"/>
                    <!-- 蒸汽分流到车间B (top: 195px, height: 70px, center: 230px) -->
                    <path d="M 520 290 C 700 290, 700 240, 930 240" fill="none" stroke="#e74c3c" stroke-width="25" opacity="0.7"/>
                    
                    <!-- 压缩空气 -->
                    <path d="M 160 390 C 350 390, 350 360, 520 360" fill="none" stroke="#2ecc71" stroke-width="40" opacity="0.7"/>
                    <!-- 压缩空气到车间A (top: 95px, height: 70px, center: 130px, 下方) -->
                    <path d="M 520 360 C 700 360, 700 150, 930 150" fill="none" stroke="#2ecc71" stroke-width="20" opacity="0.7"/>
                    <!-- 压缩空气到车间C (top: 330px, height: 70px, center: 365px, 下方) -->
                    <path d="M 520 360 C 700 360, 700 375, 930 375" fill="none" stroke="#2ecc71" stroke-width="20" opacity="0.7"/>
                    
                    <!-- 水系统 -->
                    <path d="M 160 490 C 350 490, 350 440, 520 440" fill="none" stroke="#1abc9c" stroke-width="35" opacity="0.7"/>
                    <!-- 水到冷却系统 (top: 450px, height: 35px, center: 467px) -->
                    <path d="M 520 440 C 700 440, 700 467, 930 467" fill="none" stroke="#1abc9c" stroke-width="18" opacity="0.7"/>
                    <!-- 水到工艺用水 (top: 405px, height: 35px, center: 422px) -->
                    <path d="M 520 440 C 700 440, 700 422, 930 422" fill="none" stroke="#1abc9c" stroke-width="17" opacity="0.7"/>
                </svg>
                
                <!-- 蒸汽输入 -->
                <div style="position: absolute; left: 30px; top: 230px;">
                    <div style="background: linear-gradient(to right, #e74c3c, #c0392b); width: 130px; height: 60px; display: flex; align-items: center; justify-content: center; border-radius: 6px; box-shadow: 0 0 20px rgba(231, 76, 60, 0.6); border: 1px solid rgba(231, 76, 60, 0.4);">
                        <span style="color: white; font-size: 0.8em; font-weight: bold; text-align: center;"><i class="fas fa-fire"></i> 蒸汽<br/>15 t/h</span>
                    </div>
                </div>
                
                <!-- 压缩空气 -->
                <div style="position: absolute; left: 30px; top: 360px;">
                    <div style="background: linear-gradient(to right, #2ecc71, #27ae60); width: 130px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 6px; box-shadow: 0 0 20px rgba(46, 204, 113, 0.6); border: 1px solid rgba(46, 204, 113, 0.4);">
                        <span style="color: white; font-size: 0.8em; font-weight: bold;"><i class="fas fa-wind"></i> 压缩空气 0.8MPa</span>
                    </div>
                </div>
                
                <!-- 水系统 -->
                <div style="position: absolute; left: 30px; top: 470px;">
                    <div style="background: linear-gradient(to right, #1abc9c, #16a085); width: 130px; height: 35px; display: flex; align-items: center; justify-content: center; border-radius: 6px; box-shadow: 0 0 20px rgba(26, 188, 156, 0.6); border: 1px solid rgba(26, 188, 156, 0.4);">
                        <span style="color: white; font-size: 0.8em; font-weight: bold;"><i class="fas fa-tint"></i> 水 180 m³/h</span>
                    </div>
                </div>
                
                <!-- 能源分配中心 -->
                <div style="position: absolute; left: 48%; top: 55px; transform: translateX(-50%); font-size: 0.85em; color: #00bcd4; font-weight: bold; letter-spacing: 1px;">配电中心</div>
                <div style="position: absolute; left: 48%; top: 170px; transform: translateX(-50%);">
                    <div style="background: linear-gradient(135deg, #2a3d54, #3c5472); width: 80px; height: 250px; display: flex; align-items: center; justify-content: center; border-radius: 10px; box-shadow: 0 0 25px rgba(0, 188, 212, 0.6); border: 2px solid #00bcd4;">
                        <i class="fas fa-project-diagram" style="color: #00bcd4; font-size: 2.2em; filter: drop-shadow(0 0 8px rgba(0, 188, 212, 0.8));"></i>
                    </div>
                </div>
                
                <!-- 能源消费端标签 (右侧) -->
                <div style="position: absolute; right: 135px; top: 55px; font-size: 0.85em; color: #00bcd4; font-weight: bold; letter-spacing: 1px;">用能车间/部门</div>
                
                <!-- 生产车间A -->
                <div style="position: absolute; right: 30px; top: 95px;">
                    <div style="background: linear-gradient(to left, #e67e22, #d35400); width: 140px; height: 70px; display: flex; align-items: center; justify-content: center; border-radius: 6px; box-shadow: 0 0 15px rgba(230, 126, 34, 0.6); border: 1px solid rgba(230, 126, 34, 0.4);">
                        <span style="color: white; font-size: 0.85em; font-weight: bold; text-align: center;"><i class="fas fa-industry"></i> 生产车间A<br/>1250 kW</span>
                    </div>
                </div>
                
                <!-- 生产车间B -->
                <div style="position: absolute; right: 30px; top: 195px;">
                    <div style="background: linear-gradient(to left, #9b59b6, #8e44ad); width: 140px; height: 70px; display: flex; align-items: center; justify-content: center; border-radius: 6px; box-shadow: 0 0 15px rgba(155, 89, 182, 0.6); border: 1px solid rgba(155, 89, 182, 0.4);">
                        <span style="color: white; font-size: 0.85em; font-weight: bold; text-align: center;"><i class="fas fa-cogs"></i> 生产车间B<br/>850 kW</span>
                    </div>
                </div>
                
                <!-- 辅助设施 -->
                <div style="position: absolute; right: 30px; top: 270px;">
                    <div style="background: linear-gradient(to left, #95a5a6, #7f8c8d); width: 140px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 6px; box-shadow: 0 0 15px rgba(149, 165, 166, 0.5); border: 1px solid rgba(149, 165, 166, 0.4);">
                        <span style="color: white; font-size: 0.75em; font-weight: bold;"><i class="fas fa-tools"></i> 辅助设施 280 kW</span>
                    </div>
                </div>
                
                <!-- 生产车间C -->
                <div style="position: absolute; right: 30px; top: 330px;">
                    <div style="background: linear-gradient(to left, #f39c12, #e67e22); width: 140px; height: 70px; display: flex; align-items: center; justify-content: center; border-radius: 6px; box-shadow: 0 0 15px rgba(243, 156, 18, 0.6); border: 1px solid rgba(243, 156, 18, 0.4);">
                        <span style="color: white; font-size: 0.85em; font-weight: bold; text-align: center;"><i class="fas fa-warehouse"></i> 生产车间C<br/>620 kW</span>
                    </div>
                </div>
                
                <!-- 工艺用水车间 -->
                <div style="position: absolute; right: 30px; top: 405px;">
                    <div style="background: linear-gradient(to left, #3498db, #2980b9); width: 140px; height: 35px; display: flex; align-items: center; justify-content: center; border-radius: 6px; box-shadow: 0 0 15px rgba(52, 152, 219, 0.5); border: 1px solid rgba(52, 152, 219, 0.4);">
                        <span style="color: white; font-size: 0.75em; font-weight: bold;"><i class="fas fa-water"></i> 工艺用水 85 m³/h</span>
                    </div>
                </div>
                
                <!-- 冷却循环系统 -->
                <div style="position: absolute; right: 30px; top: 450px;">
                    <div style="background: linear-gradient(to left, #16a085, #138d75); width: 140px; height: 35px; display: flex; align-items: center; justify-content: center; border-radius: 6px; box-shadow: 0 0 15px rgba(22, 160, 133, 0.5); border: 1px solid rgba(22, 160, 133, 0.4);">
                        <span style="color: white; font-size: 0.75em; font-weight: bold;"><i class="fas fa-snowflake"></i> 冷却系统 95 m³/h</span>
                    </div>
                </div>
                
                <!-- 图例 -->
                <div style="position: absolute; bottom: 15px; left: 15px; background-color: rgba(42, 61, 84, 0.9); padding: 12px 18px; border-radius: 8px; border: 1px solid #3c5472; box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);">
                    <div style="font-size: 0.85em; color: #00bcd4; font-weight: bold; margin-bottom: 8px;">能源类型</div>
                    <div style="font-size: 0.75em; color: #e0e6ed; margin-bottom: 4px;"><span style="display: inline-block; width: 25px; height: 4px; background: #3498db; margin-right: 8px; vertical-align: middle; box-shadow: 0 0 8px rgba(52, 152, 219, 0.6);"></span>电力</div>
                    <div style="font-size: 0.75em; color: #e0e6ed; margin-bottom: 4px;"><span style="display: inline-block; width: 25px; height: 4px; background: #e74c3c; margin-right: 8px; vertical-align: middle; box-shadow: 0 0 8px rgba(231, 76, 60, 0.6);"></span>蒸汽</div>
                    <div style="font-size: 0.75em; color: #e0e6ed; margin-bottom: 4px;"><span style="display: inline-block; width: 25px; height: 4px; background: #2ecc71; margin-right: 8px; vertical-align: middle; box-shadow: 0 0 8px rgba(46, 204, 113, 0.6);"></span>压缩空气</div>
                    <div style="font-size: 0.75em; color: #e0e6ed;"><span style="display: inline-block; width: 25px; height: 4px; background: #1abc9c; margin-right: 8px; vertical-align: middle; box-shadow: 0 0 8px rgba(26, 188, 156, 0.6);"></span>水</div>
                    <div style="font-size: 0.7em; color: #a7bed3; margin-top: 8px; font-style: italic;">* 流带宽度代表能源流量大小</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 电力一次系统图模块 -->
    <div id="primary-power-system-map-tab" class="tab-content">
        <div class="card">
            <div class="card-title"><i class="fas fa-bolt"></i>电力一次系统图</div>
            <p>通过SCADA组态画面可视化展示电力一次负荷分布图，展示总表和分表的实时负荷和占比。</p>
            <div class="chart-container" style="height: 550px; position: relative; background: linear-gradient(135deg, #0a1929 0%, #1a2332 100%); border: 2px solid #00bcd4; overflow: hidden;">
                <div style="position: absolute; top: 15px; left: 50%; transform: translateX(-50%); color: #00bcd4; font-size: 1.1em; font-weight: bold; text-shadow: 0 0 10px rgba(0, 188, 212, 0.5);">电力一次系统负荷分布 (SCADA)</div>
                
                <!-- 主变压器 -->
                <div style="position: absolute; left: 50%; top: 80px; transform: translateX(-50%); width: 120px; padding: 15px; background: linear-gradient(135deg, rgba(52, 152, 219, 0.2), rgba(52, 152, 219, 0.05)); border: 3px solid #3498db; border-radius: 10px; box-shadow: 0 0 30px rgba(52, 152, 219, 0.7); text-align: center;">
                    <i class="fas fa-bolt" style="font-size: 2.5em; color: #3498db; filter: drop-shadow(0 0 10px rgba(52, 152, 219, 1));"></i>
                    <div style="font-size: 0.9em; color: #e0e6ed; font-weight: bold; margin-top: 8px;">主变压器</div>
                    <div style="font-size: 0.85em; color: #3498db; margin-top: 5px; font-weight: 600;">10kV/380V</div>
                    <div style="font-size: 1em; color: #00bcd4; margin-top: 8px; font-weight: bold;">2850 kW</div>
                </div>
                
                <!-- 连接线: 主变到各分支 -->
                <svg style="position: absolute; left: 0; top: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1;" xmlns="http://www.w3.org/2000/svg">
                    <!-- 主干线 -->
                    <line x1="50%" y1="180" x2="50%" y2="240" stroke="#00bcd4" stroke-width="4" stroke-dasharray="8,4"/>
                    <!-- 分支到车间A -->
                    <line x1="50%" y1="240" x2="15%" y2="300" stroke="#00bcd4" stroke-width="3"/>
                    <!-- 分支到车间B -->
                    <line x1="50%" y1="240" x2="35%" y2="300" stroke="#00bcd4" stroke-width="2"/>
                    <!-- 分支到车间C -->
                    <line x1="50%" y1="240" x2="65%" y2="300" stroke="#00bcd4" stroke-width="2"/>
                    <!-- 分支到辅助 -->
                    <line x1="50%" y1="240" x2="85%" y2="300" stroke="#00bcd4" stroke-width="1"/>
                </svg>
                
                <!-- 配电柜/分表 - 车间A -->
                <div style="position: absolute; left: 8%; top: 300px; width: 160px; padding: 12px; background: linear-gradient(135deg, rgba(230, 126, 34, 0.2), rgba(230, 126, 34, 0.05)); border: 2px solid #e67e22; border-radius: 8px; box-shadow: 0 0 20px rgba(230, 126, 34, 0.6); text-align: center;">
                    <i class="fas fa-industry" style="font-size: 1.8em; color: #e67e22; filter: drop-shadow(0 0 8px rgba(230, 126, 34, 0.8));"></i>
                    <div style="font-size: 0.85em; color: #e0e6ed; font-weight: bold; margin-top: 6px;">生产车间A</div>
                    <div style="margin-top: 8px; display: flex; justify-content: space-around;">
                        <div style="text-align: center;">
                            <div style="font-size: 0.75em; color: #a7bed3;">负荷</div>
                            <div style="font-size: 1.1em; color: #e67e22; font-weight: bold;">1250kW</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 0.75em; color: #a7bed3;">占比</div>
                            <div style="font-size: 1.1em; color: #00bcd4; font-weight: bold;">43.9%</div>
                        </div>
                    </div>
                    <!-- 负荷进度条 -->
                    <div style="margin-top: 8px; background: rgba(0, 0, 0, 0.3); height: 8px; border-radius: 4px; overflow: hidden;">
                        <div style="width: 87%; height: 100%; background: linear-gradient(to right, #e67e22, #f39c12); box-shadow: 0 0 10px rgba(230, 126, 34, 0.8);"></div>
                    </div>
                </div>
                
                <!-- 配电柜/分表 - 车间B -->
                <div style="position: absolute; left: 28%; top: 300px; width: 160px; padding: 12px; background: linear-gradient(135deg, rgba(155, 89, 182, 0.2), rgba(155, 89, 182, 0.05)); border: 2px solid #9b59b6; border-radius: 8px; box-shadow: 0 0 20px rgba(155, 89, 182, 0.6); text-align: center;">
                    <i class="fas fa-cogs" style="font-size: 1.8em; color: #9b59b6; filter: drop-shadow(0 0 8px rgba(155, 89, 182, 0.8));"></i>
                    <div style="font-size: 0.85em; color: #e0e6ed; font-weight: bold; margin-top: 6px;">生产车间B</div>
                    <div style="margin-top: 8px; display: flex; justify-content: space-around;">
                        <div style="text-align: center;">
                            <div style="font-size: 0.75em; color: #a7bed3;">负荷</div>
                            <div style="font-size: 1.1em; color: #9b59b6; font-weight: bold;">850kW</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 0.75em; color: #a7bed3;">占比</div>
                            <div style="font-size: 1.1em; color: #00bcd4; font-weight: bold;">29.8%</div>
                        </div>
                    </div>
                    <div style="margin-top: 8px; background: rgba(0, 0, 0, 0.3); height: 8px; border-radius: 4px; overflow: hidden;">
                        <div style="width: 59%; height: 100%; background: linear-gradient(to right, #9b59b6, #c39bd3); box-shadow: 0 0 10px rgba(155, 89, 182, 0.8);"></div>
                    </div>
                </div>
                
                <!-- 配电柜/分表 - 车间C -->
                <div style="position: absolute; right: 28%; top: 300px; width: 160px; padding: 12px; background: linear-gradient(135deg, rgba(243, 156, 18, 0.2), rgba(243, 156, 18, 0.05)); border: 2px solid #f39c12; border-radius: 8px; box-shadow: 0 0 20px rgba(243, 156, 18, 0.6); text-align: center;">
                    <i class="fas fa-warehouse" style="font-size: 1.8em; color: #f39c12; filter: drop-shadow(0 0 8px rgba(243, 156, 18, 0.8));"></i>
                    <div style="font-size: 0.85em; color: #e0e6ed; font-weight: bold; margin-top: 6px;">生产车间C</div>
                    <div style="margin-top: 8px; display: flex; justify-content: space-around;">
                        <div style="text-align: center;">
                            <div style="font-size: 0.75em; color: #a7bed3;">负荷</div>
                            <div style="font-size: 1.1em; color: #f39c12; font-weight: bold;">620kW</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 0.75em; color: #a7bed3;">占比</div>
                            <div style="font-size: 1.1em; color: #00bcd4; font-weight: bold;">21.8%</div>
                        </div>
                    </div>
                    <div style="margin-top: 8px; background: rgba(0, 0, 0, 0.3); height: 8px; border-radius: 4px; overflow: hidden;">
                        <div style="width: 43%; height: 100%; background: linear-gradient(to right, #f39c12, #f1c40f); box-shadow: 0 0 10px rgba(243, 156, 18, 0.8);"></div>
                    </div>
                </div>
                
                <!-- 配电柜/分表 - 辅助设施 -->
                <div style="position: absolute; right: 8%; top: 300px; width: 160px; padding: 12px; background: linear-gradient(135deg, rgba(149, 165, 166, 0.2), rgba(149, 165, 166, 0.05)); border: 2px solid #95a5a6; border-radius: 8px; box-shadow: 0 0 20px rgba(149, 165, 166, 0.6); text-align: center;">
                    <i class="fas fa-tools" style="font-size: 1.8em; color: #95a5a6; filter: drop-shadow(0 0 8px rgba(149, 165, 166, 0.8));"></i>
                    <div style="font-size: 0.85em; color: #e0e6ed; font-weight: bold; margin-top: 6px;">辅助设施</div>
                    <div style="margin-top: 8px; display: flex; justify-content: space-around;">
                        <div style="text-align: center;">
                            <div style="font-size: 0.75em; color: #a7bed3;">负荷</div>
                            <div style="font-size: 1.1em; color: #95a5a6; font-weight: bold;">130kW</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 0.75em; color: #a7bed3;">占比</div>
                            <div style="font-size: 1.1em; color: #00bcd4; font-weight: bold;">4.6%</div>
                        </div>
                    </div>
                    <div style="margin-top: 8px; background: rgba(0, 0, 0, 0.3); height: 8px; border-radius: 4px; overflow: hidden;">
                        <div style="width: 9%; height: 100%; background: linear-gradient(to right, #95a5a6, #bdc3c7); box-shadow: 0 0 10px rgba(149, 165, 166, 0.8);"></div>
                    </div>
                </div>
                
                <!-- 实时数据面板 -->
                <div style="position: absolute; bottom: 15px; left: 15px; background: linear-gradient(135deg, rgba(42, 61, 84, 0.95), rgba(26, 35, 50, 0.95)); padding: 15px 20px; border-radius: 10px; border: 1px solid #00bcd4; box-shadow: 0 0 20px rgba(0, 188, 212, 0.3); backdrop-filter: blur(10px);">
                    <div style="font-size: 0.85em; color: #00bcd4; margin-bottom: 8px; font-weight: bold;">
                        <i class="fas fa-chart-line" style="margin-right: 8px;"></i>实时负荷统计
                    </div>
                    <div style="display: flex; gap: 15px;">
                        <div style="text-align: center;">
                            <div style="font-size: 0.75em; color: #a7bed3;">总负荷</div>
                            <div style="font-size: 1.2em; color: #00bcd4; font-weight: bold;">2850kW</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 0.75em; color: #a7bed3;">负荷率</div>
                            <div style="font-size: 1.2em; color: #2ecc71; font-weight: bold;">68%</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 0.75em; color: #a7bed3;">功率因数</div>
                            <div style="font-size: 1.2em; color: #f39c12; font-weight: bold;">0.92</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 工艺生产图模块 -->
    <div id="process-production-map-tab" class="tab-content">
        <div class="card">
            <div class="card-title"><i class="fas fa-industry"></i>工艺生产图</div>
            <p>通过组态画面可视化展示工厂各个生产的工艺工序用能情况。</p>
            <div class="chart-container" style="height: 550px; position: relative; background: linear-gradient(135deg, #0a1929 0%, #1a2332 100%); border: 2px solid #00bcd4; overflow: hidden;">
                <div style="position: absolute; top: 15px; left: 50%; transform: translateX(-50%); color: #00bcd4; font-size: 1.1em; font-weight: bold; text-shadow: 0 0 10px rgba(0, 188, 212, 0.5);">工艺生产流程用能图</div>
                
                <!-- 原料输入 -->
                <div style="position: absolute; left: 5%; top: 50%; transform: translateY(-50%); width: 100px; padding: 12px; background: linear-gradient(135deg, rgba(149, 165, 166, 0.2), rgba(149, 165, 166, 0.05)); border: 2px solid #95a5a6; border-radius: 8px; box-shadow: 0 0 20px rgba(149, 165, 166, 0.6); text-align: center;">
                    <i class="fas fa-dolly" style="font-size: 2em; color: #95a5a6; filter: drop-shadow(0 0 8px rgba(149, 165, 166, 0.8));"></i>
                    <div style="font-size: 0.85em; color: #e0e6ed; font-weight: bold; margin-top: 8px;">原料输入</div>
                </div>
                
                <!-- 工序流程连接线 -->
                <svg style="position: absolute; left: 0; top: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1;" xmlns="http://www.w3.org/2000/svg">
                    <!-- 原料 -> 预处理 -->
                    <path d="M 150 275 L 220 275" stroke="#00bcd4" stroke-width="3" marker-end="url(#arrowhead)"/>
                    <!-- 预处理 -> 加工 -->
                    <path d="M 330 275 L 400 275" stroke="#00bcd4" stroke-width="3" marker-end="url(#arrowhead)"/>
                    <!-- 加工 -> 精加工 -->
                    <path d="M 510 275 L 580 275" stroke="#00bcd4" stroke-width="3" marker-end="url(#arrowhead)"/>
                    <!-- 精加工 -> 检测 -->
                    <path d="M 690 275 L 760 275" stroke="#00bcd4" stroke-width="3" marker-end="url(#arrowhead)"/>
                    <!-- 检测 -> 成品 -->
                    <path d="M 870 275 L 940 275" stroke="#00bcd4" stroke-width="3" marker-end="url(#arrowhead)"/>
                    
                    <!-- 箭头定义 -->
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#00bcd4" />
                        </marker>
                    </defs>
                </svg>
                
                <!-- 工序1: 预处理 -->
                <div style="position: absolute; left: 16%; top: 50%; transform: translateY(-50%); width: 110px; padding: 10px; background: linear-gradient(135deg, rgba(52, 152, 219, 0.2), rgba(52, 152, 219, 0.05)); border: 2px solid #3498db; border-radius: 8px; box-shadow: 0 0 20px rgba(52, 152, 219, 0.6); text-align: center;">
                    <i class="fas fa-cog" style="font-size: 1.6em; color: #3498db; filter: drop-shadow(0 0 8px rgba(52, 152, 219, 0.8));"></i>
                    <div style="font-size: 0.8em; color: #e0e6ed; font-weight: bold; margin-top: 6px;">预处理</div>
                    <div style="font-size: 0.75em; color: #a7bed3; margin-top: 4px;">⚡ 180kW</div>
                    <div style="font-size: 0.75em; color: #a7bed3;">🌡️ 65°C</div>
                </div>
                
                <!-- 工序2: 主加工 -->
                <div style="position: absolute; left: 31%; top: 50%; transform: translateY(-50%); width: 110px; padding: 10px; background: linear-gradient(135deg, rgba(230, 126, 34, 0.2), rgba(230, 126, 34, 0.05)); border: 2px solid #e67e22; border-radius: 8px; box-shadow: 0 0 20px rgba(230, 126, 34, 0.6); text-align: center;">
                    <i class="fas fa-hammer" style="font-size: 1.6em; color: #e67e22; filter: drop-shadow(0 0 8px rgba(230, 126, 34, 0.8));"></i>
                    <div style="font-size: 0.8em; color: #e0e6ed; font-weight: bold; margin-top: 6px;">主加工</div>
                    <div style="font-size: 0.75em; color: #a7bed3; margin-top: 4px;">⚡ 680kW</div>
                    <div style="font-size: 0.75em; color: #a7bed3;">💨 5m³/min</div>
                </div>
                
                <!-- 工序3: 精加工 -->
                <div style="position: absolute; left: 46%; top: 50%; transform: translateY(-50%); width: 110px; padding: 10px; background: linear-gradient(135deg, rgba(155, 89, 182, 0.2), rgba(155, 89, 182, 0.05)); border: 2px solid #9b59b6; border-radius: 8px; box-shadow: 0 0 20px rgba(155, 89, 182, 0.6); text-align: center;">
                    <i class="fas fa-drafting-compass" style="font-size: 1.6em; color: #9b59b6; filter: drop-shadow(0 0 8px rgba(155, 89, 182, 0.8));"></i>
                    <div style="font-size: 0.8em; color: #e0e6ed; font-weight: bold; margin-top: 6px;">精加工</div>
                    <div style="font-size: 0.75em; color: #a7bed3; margin-top: 4px;">⚡ 320kW</div>
                    <div style="font-size: 0.75em; color: #a7bed3;">💧 12m³/h</div>
                </div>
                
                <!-- 工序4: 质检 -->
                <div style="position: absolute; left: 61%; top: 50%; transform: translateY(-50%); width: 110px; padding: 10px; background: linear-gradient(135deg, rgba(46, 204, 113, 0.2), rgba(46, 204, 113, 0.05)); border: 2px solid #2ecc71; border-radius: 8px; box-shadow: 0 0 20px rgba(46, 204, 113, 0.6); text-align: center;">
                    <i class="fas fa-search" style="font-size: 1.6em; color: #2ecc71; filter: drop-shadow(0 0 8px rgba(46, 204, 113, 0.8));"></i>
                    <div style="font-size: 0.8em; color: #e0e6ed; font-weight: bold; margin-top: 6px;">质量检测</div>
                    <div style="font-size: 0.75em; color: #a7bed3; margin-top: 4px;">⚡ 85kW</div>
                    <div style="font-size: 0.75em; color: #a7bed3;">📊 99.2%</div>
                </div>
                
                <!-- 成品输出 -->
                <div style="position: absolute; right: 5%; top: 50%; transform: translateY(-50%); width: 100px; padding: 12px; background: linear-gradient(135deg, rgba(241, 196, 15, 0.2), rgba(241, 196, 15, 0.05)); border: 2px solid #f1c40f; border-radius: 8px; box-shadow: 0 0 20px rgba(241, 196, 15, 0.6); text-align: center;">
                    <i class="fas fa-box" style="font-size: 2em; color: #f1c40f; filter: drop-shadow(0 0 8px rgba(241, 196, 15, 0.8));"></i>
                    <div style="font-size: 0.85em; color: #e0e6ed; font-weight: bold; margin-top: 8px;">成品输出</div>
                </div>
                
                <!-- 能源消耗汇总 -->
                <div style="position: absolute; top: 420px; left: 50%; transform: translateX(-50%); width: 80%; display: flex; justify-content: space-around; background: linear-gradient(135deg, rgba(42, 61, 84, 0.95), rgba(26, 35, 50, 0.95)); padding: 15px 20px; border-radius: 10px; border: 1px solid #00bcd4; box-shadow: 0 0 20px rgba(0, 188, 212, 0.3); backdrop-filter: blur(10px);">
                    <div style="text-align: center;">
                        <div style="font-size: 0.75em; color: #a7bed3; margin-bottom: 5px;">
                            <i class="fas fa-bolt" style="color: #00bcd4; margin-right: 5px;"></i>总电耗
                        </div>
                        <div style="font-size: 1.2em; color: #00bcd4; font-weight: bold;">1265 kW</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 0.75em; color: #a7bed3; margin-bottom: 5px;">
                            <i class="fas fa-fire" style="color: #e74c3c; margin-right: 5px;"></i>蒸汽消耗
                        </div>
                        <div style="font-size: 1.2em; color: #e74c3c; font-weight: bold;">3.2 t/h</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 0.75em; color: #a7bed3; margin-bottom: 5px;">
                            <i class="fas fa-wind" style="color: #2ecc71; margin-right: 5px;"></i>压缩空气
                        </div>
                        <div style="font-size: 1.2em; color: #2ecc71; font-weight: bold;">5 m³/min</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 0.75em; color: #a7bed3; margin-bottom: 5px;">
                            <i class="fas fa-tint" style="color: #3498db; margin-right: 5px;"></i>工艺用水
                        </div>
                        <div style="font-size: 1.2em; color: #3498db; font-weight: bold;">12 m³/h</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 0.75em; color: #a7bed3; margin-bottom: 5px;">
                            <i class="fas fa-chart-line" style="color: #f39c12; margin-right: 5px;"></i>产量
                        </div>
                        <div style="font-size: 1.2em; color: #f39c12; font-weight: bold;">850 件/h</div>
                    </div>
                </div>
                
                <!-- 单位能耗指标 -->
                <div style="position: absolute; bottom: 15px; right: 15px; background: linear-gradient(135deg, rgba(42, 61, 84, 0.95), rgba(26, 35, 50, 0.95)); padding: 12px 18px; border-radius: 10px; border: 1px solid #00bcd4; box-shadow: 0 0 20px rgba(0, 188, 212, 0.3); backdrop-filter: blur(10px);">
                    <div style="font-size: 0.85em; color: #00bcd4; margin-bottom: 6px; font-weight: bold;">
                        <i class="fas fa-calculator" style="margin-right: 6px;"></i>单位产品能耗
                    </div>
                    <div style="font-size: 0.8em; color: #e0e6ed; margin-bottom: 3px;">电耗: <span style="color: #00bcd4; font-weight: bold;">1.49 kWh/件</span></div>
                    <div style="font-size: 0.8em; color: #e0e6ed; margin-bottom: 3px;">综合能耗: <span style="color: #2ecc71; font-weight: bold;">2.85 kgce/件</span></div>
                    <div style="font-size: 0.8em; color: #e0e6ed;">能效等级: <span style="color: #f39c12; font-weight: bold;">一级 ⭐</span></div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<script src="iframe-common.js"></script>
</body>
</html>

